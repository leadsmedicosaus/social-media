{% extends "base.html" %}
{% load static %}


{% block body %}


<style>
    .img-not-fullscreen {
        width: 100%;
        height: auto;
        cursor: pointer;
    }
    .img-fullscreen {
        width: 98vw;
        height: auto;
    }

    @media (max-width: 600px) {
        .img-not-fullscreen {
            max-width: 100%;
        }
    }
</style>


<div style="display: flex; flex-direction: column; align-items: center; margin-top: 2rem;">

    <h1 style="text-align: center; font-family: monospace;"><i><span class="pico-color-yellow-200">Save time</span> with posting on social media </i></h1>
    <p style="max-width: 800px; text-align: center;">
       Keep your brand active daily <strong class="pico-color-yellow-200">and get new leads passively.</strong> 
    </p>

    <img height="520px" width="520px" style="margin-top: 2rem; border-radius: 18px;" src="{% static 'hero-image.png' %}" alt="">

    <a id="firebase-login-btn" style="margin-top: 2rem;" role="button" href="#">
        Login
    </a>
    <small style="margin-top: 2rem; text-align: center;" class="pico-color-slate-550">
        Check below for more details
        <br>
        <i class="bi bi-chevron-down"></i>
    </small>

</div>



<table class="container" style="margin-top: 6rem;">
    <thead>
        <tr>
            <th>üõë Without ImPosting</th>
            <th>‚úÖ With ImPosting</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Schedule/Post on LinkedIn</td>
            <td>Skip copy/pasting and app swiching just schedule post on ImPosting ü§©</td>
        </tr>
        <tr>
            <td>Copy and schedule/Post on X</td>
            <td>-</td>
        </tr>
        <tr>
            <td>Copy and schedule/Post on Meta Business</th>
            <td>-</td>
        </tr>
        <tr>
            <td>Copy and schedule/Post on TikTok</th>
            <td>-</td>
        </tr>
    </tbody>
</table>


<div class="container" style="margin-top: 6rem;">

    <hgroup style="display: block; text-align: center; margin-bottom: 4rem;">
        <h1>Screenshots</h1>
        <p>Some screenshots of the app. It's simple. Nothing fancy. Just post.</p>
    </hgroup>

    <div style="display: flex; flex-direction: column; gap: 2rem;">

        <div style="display: flex; flex-direction: column; justify-content: center;">
            <strong>Integrations</strong>
            <p>
                Allow ImPosting to post on your behalf. Click on Authorize button.
                If you don't see your posts published come on this page and click on Authorize button again (the token
                expired and the app needs a new one).
            </p>

            <div x-data="{fullScreen: false}" style="display: flex; justify-content: center;">

                <div x-show="!fullScreen">
                    <img 
                    x-cloak x-show="theme === 'dark'" src="{% static 'dark-integrations.png' %}" alt="imposting integrations"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">
                    
                    <img 
                    x-cloak x-show="theme === 'light'" src="{% static 'light-integrations.png' %}" alt="imposting integrations"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">

                </div>

                <dialog :open="fullScreen" @click="fullScreen = false">

                    <img x-cloak x-show="theme === 'dark'" src="{% static 'dark-integrations.png' %}" alt="imposting integrations"
                        class="img-fullscreen">

                    <img x-cloak x-show="theme === 'light'" src="{% static 'light-integrations.png' %}" alt="imposting integrations"
                        class="img-fullscreen">
                
                </dialog>
            </div>
        </div>
        
        <div style="display: flex; flex-direction: column; justify-content: center;">
            <strong>Calendar</strong>
            <p>
                A simple calendar where you can see the days you have posts or not. Select day or click Post Today
                button.
            </p>
            
            <div x-data="{fullScreen: false}" style="display: flex; justify-content: center;">

                <div x-show="!fullScreen">
                    <img 
                    x-cloak x-show="theme === 'dark'" src="{% static 'dark-calendar.png' %}" alt="imposting calendar"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">
                    
                    <img 
                    x-cloak x-show="theme === 'light'" src="{% static 'light-calendar.png' %}" alt="imposting calendar"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">

                </div>

                <dialog :open="fullScreen" @click="fullScreen = false">

                    <img x-cloak x-show="theme === 'dark'" src="{% static 'dark-calendar.png' %}" alt="imposting calendar"
                        class="img-fullscreen">

                    <img x-cloak x-show="theme === 'light'" src="{% static 'light-calendar.png' %}" alt="imposting calendar"
                        class="img-fullscreen">
                
                </dialog>
            </div>


        </div>
        <div style="display: flex; flex-direction: column; justify-content: center;">
            <strong>Schedule</strong>
            <p>
                Just a simple form to write your post and add a image.
            </p>
            
            <div x-data="{fullScreen: false}" style="display: flex; justify-content: center;">

                <div x-show="!fullScreen">
                    <img 
                    x-cloak x-show="theme === 'dark'" src="{% static 'dark-schedule-post.png' %}" alt="imposting schedule post"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">
                    
                    <img 
                    x-cloak x-show="theme === 'light'" src="{% static 'light-schedule-post.png' %}" alt="imposting schedule post"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">

                </div>

                <dialog :open="fullScreen" @click="fullScreen = false">

                    <img x-cloak x-show="theme === 'dark'" src="{% static 'dark-schedule-post.png' %}" alt="imposting schedule post"
                        class="img-fullscreen">

                    <img x-cloak x-show="theme === 'light'" src="{% static 'light-schedule-post.png' %}" alt="imposting schedule post"
                        class="img-fullscreen">
                
                </dialog>
            </div>

        </div>

        <div style="display: flex; flex-direction: column; justify-content: center;">
            <strong>TikTok</strong>
            <p>
                If you post on TikTok you'll need to complete another form.
            </p>

            <div x-data="{fullScreen: false}" style="display: flex; justify-content: center;">

                <div x-show="!fullScreen">
                    <img 
                    x-cloak x-show="theme === 'dark'" src="{% static 'dark-tiktok-form.png' %}" alt="imposting tiktok form"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">
                    
                    <img 
                    x-cloak x-show="theme === 'light'" src="{% static 'light-tiktok-form.png' %}" alt="imposting tiktok form"
                    @click="fullScreen = true"
                    class="img-not-fullscreen">

                </div>

                <dialog :open="fullScreen" @click="fullScreen = false">

                    <img x-cloak x-show="theme === 'dark'" src="{% static 'dark-tiktok-form.png' %}" alt="imposting tiktok form"
                        class="img-fullscreen">

                    <img x-cloak x-show="theme === 'light'" src="{% static 'light-tiktok-form.png' %}" alt="imposting tiktok form"
                        class="img-fullscreen">
                
                </dialog>
            </div>

        </div>
    </div>

</div>


<div id="pricing" class="container" style="display: flex; flex-direction: column; margin-top: 6rem; margin-bottom: 6rem;">

    <hgroup style="display: block; text-align: center; margin-bottom: 4rem;">
        <h1>Pricing</h1>
        <p>Prices without the marketing psychology degree. You get 7 days trial to see if it's worth it for you.</p>
    </hgroup>

    <div class="grid">


        <article style="display: flex; align-items: center; flex-direction: column;">

            <h2 style="margin-top: 1rem;">üë®‚Äçüíª Open Source</h2>

            <strong style="margin-top: 1rem;">FREE - You can self-host it yourself</strong>

            <p style="text-align: center; margin-top: 1rem;" class="pico-color-slate-550">
                You'll need a VM, a Cloudflare account for storing media files, 
                developer accounts and some approvals from social media providers. 
            </p>

            <a target="_blank" style="margin-top: 2rem; margin-bottom: 2rem;" class="secondary" role="button" href="https://github.com/ClimenteA/social-media-posts-scheduler">
                I'm a tech connoisseur
            </a>
    
        </article>


        <article style="display: flex; align-items: center; flex-direction: column; border: 2px solid gold;">
            
            <h2 style="margin-top: 1rem;">ü´° Committed Poster</h2>

            <strong style="margin-top: 1rem;">120$ for 12 months aka 10$ per month</strong>

            <p style="text-align: center; margin-top: 1rem;" :class="theme === 'dark' ? 'pico-color-slate-400': 'pico-color-slate-650'">
                You're serious about building a brand and you know this takes a few years to gain some traction.
                Focus on content - we'll handle the boring stuff.
                You get 7 days trial to see if you like it.
            </p>

            <a id="firebase-login-btn-commit" style="margin-top: 2rem; margin-bottom: 2rem;" role="button" href="#">
                I'm a commited poster
            </a>
    
        </article>
    
        <article style="display: flex; align-items: center; flex-direction: column;">

            <h2 style="margin-top: 1rem;">üòé Vibe Poster</h2>

            <strong style="margin-top: 1rem;">1$ per published post on all platforms</strong>

            <p style="text-align: center; margin-top: 1rem;" class="pico-color-slate-550">
                You post when inspiration strikes - not because an algorithm told you to. 
                One click, all your accounts. Worth a buck to skip the copy-paste dance?
            </p>

            <a id="firebase-login-btn-vibe" style="margin-top: 2rem; margin-bottom: 2rem;" class="secondary" role="button" href="#">
                I'm a vibe poster
            </a>
    
        </article>
    

    </div>        

</div>

<div id="faq" class="container" style="display: flex; flex-direction: column; margin-top: 6rem; margin-bottom: 6rem;">

    <hgroup style="display: block; text-align: center; margin-bottom: 4rem;">
        <h1>FAQ</h1>
        <p>Here are probably the answers for all your questions related to this social media scheduling app.</p>
    </hgroup>


    <details>
        <summary>Is is good for me?</summary>
        <p>
            <strong>You can schedule a post with text + image on Facebook, Instagram, TikTok LinkedIn, X.</strong>

        <p>‚úçÔ∏è Facebook public page and Instagram professional account need to be linked into Meta Business Suite!
            Posts will be published on the Facebook public page and the Instagram professional account.
        </p>
        <ul>
            <li>
                1 Facebook Public Page
            </li>
            <li>
                1 Instagram Profesional account
            </li>
        </ul>

        <p>‚úçÔ∏è You'll need a TikTok business account. Posts will be published on that TikTok business account.</p>
        <ul>
            <li>1 TikTok business account</li>
        </ul>

        <p>‚úçÔ∏è You'll need a Linkedin account. Posts will be published on that Linkedin account.</p>
        <ul>
            <li>1 Linkedin account</li>
        </ul>

        <p>‚úçÔ∏è An X account is enough here. Posts will be published on that X account.</p>
        <ul>
            <li>1 X account</li>
        </ul>

        </p>
    </details>


    <details>
        <summary>How many posts can I send per day?</summary>
        <p>
            You can make 2 posts per day on each platform. 
            Ex: X: 2 posts, Facebook: 2 posts, TikTok: 2 posts etc.
            Trust me it's more than enough.
        </p>
    </details>


    <details>
        <summary>Can I post reels (videos)?</summary>
        <p>
            Yes, on Facebook, Instagram and TikTok. YouTube will be added soon.
            Videos will be processed to make sure they have minimum requirements for publishing. 
            Same with images, even more if you post just text and that will be converted to an image (super useful for instagram where you can't make text posts).
        </p>
    </details>


    <details>
        <summary>Does it have analytics?</summary>

        <div>

            <p>
                No. Turn on notifications - if you have many notifications you did good, if not, you need to improve.
                imposting.com takes John's weather forecasting stone approach. 
                If you need data check in the social media apps you've been posting on. 
            </p>
            
            <img style="border-radius: 18px;" src="{% static 'johns-weather-forecating-stone.jpg' %}" alt="">
        </div>

    </details>


    <details>
        <summary>Why is posting constantly important?</summary>
        <p>
            It helps you get in front of your leads.
            It helps your possible clients make the decision to choose you instead of your competition.
            It's all about building trust and letting people know how you can help them.
        </p>
    </details>


    <details>
        <summary>What if I don't like this app?</summary>
        <p>
            You have 7 days trial to see if this social media app scheduler, one among a dozen, is the right one for
            you. 
        </p>
    </details>

    <details>
        <summary>How will I pay if I like it?</summary>
        <p>
            Old school wire bank transfer.
        </p>
    </details>


    <details>
        <summary>Why I don't see here Threads, Mastodon, Bluesky etc.?</summary>
        <p>
            They are not supported. Not sure if they will ever be included in this app.
        </p>
    </details>

    <!-- Google OAuth text removed; using Firebase Auth -->


</div>


<div style="display: flex; flex-direction: column; justify-content: center;">
    <h1 style="text-align: center;">üòÅ Looks good for you?</h1>

    <a id="firebase-login-btn-bottom" style="margin-top: 2rem;" role="button" href="#">
        Login
    </a>

    <small style="margin-top: 2rem; text-align: center;" class="pico-color-yellow-200">
        You'll get 7 days trial to test it!
    </small>

</div>

<script src="{% static 'firebase-config.js' %}"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script type="module">
    const GOOGLE_CLIENT_ID = "877693374023-k1ouvn1dba385pjn7t4bqtd8g69lt4pg.apps.googleusercontent.com";
    
    const cfg = window.FIREBASE_PUBLIC_CONFIG || {
        apiKey: "{{ FIREBASE_API_KEY|default:'' }}",
        authDomain: "{{ FIREBASE_AUTH_DOMAIN|default:'' }}",
        projectId: "{{ FIREBASE_PROJECT_ID|default:'' }}",
    };
    
    let auth, GoogleAuthProvider, signInWithCredential;
    
    async function initFirebase() {
        if (auth) return;
        const { initializeApp } = await import("https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js");
        const authMod = await import("https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js");
        const app = initializeApp(cfg);
        auth = authMod.getAuth(app);
        GoogleAuthProvider = authMod.GoogleAuthProvider;
        signInWithCredential = authMod.signInWithCredential;
    }
    
    async function finishAuth(firebaseToken) {
        console.log("Enviando token para Django...");
        const form = document.createElement("form");
        form.method = "POST";
        form.action = "{% url 'firebase_auth' %}?next=/";
        const input = document.createElement("input");
        input.type = "hidden";
        input.name = "id_token";
        input.value = firebaseToken;
        form.appendChild(input);
        document.body.appendChild(form);
        form.submit();
    }
    
    // Callback do Google One Tap / Sign In
    window.handleGoogleCredential = async function(response) {
        console.log("Google ID token recebido!");
        try {
            await initFirebase();
            const credential = GoogleAuthProvider.credential(response.credential);
            const result = await signInWithCredential(auth, credential);
            console.log("Firebase OK:", result.user.email);
            const firebaseToken = await result.user.getIdToken(true);
            await finishAuth(firebaseToken);
        } catch (err) {
            console.error("Erro:", err);
            alert("Erro: " + (err.message || err.code));
        }
    };
    
    function waitForGoogle(callback, attempts = 0) {
        if (typeof google !== 'undefined' && google.accounts && google.accounts.id) {
            callback();
        } else if (attempts < 50) {
            setTimeout(() => waitForGoogle(callback, attempts + 1), 100);
        } else {
            alert("Erro ao carregar Google Sign-In. Recarregue a p√°gina.");
        }
    }
    
    function handleLogin() {
        waitForGoogle(() => {
            google.accounts.id.initialize({
                client_id: GOOGLE_CLIENT_ID,
                callback: handleGoogleCredential,
            });
            
            // Mostra o popup de sele√ß√£o de conta
            google.accounts.id.prompt((notification) => {
                console.log("Prompt notification:", notification);
                if (notification.isNotDisplayed() || notification.isSkippedMoment()) {
                    console.log("One Tap indispon√≠vel, abrindo seletor...");
                    // Renderiza bot√£o invis√≠vel e clica nele
                    const div = document.createElement('div');
                    div.id = 'g_id_onload_hidden';
                    div.style.display = 'none';
                    document.body.appendChild(div);
                    
                    google.accounts.id.renderButton(div, {
                        type: 'standard',
                        size: 'large',
                    });
                    
                    // Clica no bot√£o renderizado
                    const gBtn = div.querySelector('div[role="button"]');
                    if (gBtn) gBtn.click();
                }
            });
        });
    }
    
    document.addEventListener("DOMContentLoaded", () => {
        ["firebase-login-btn", "firebase-login-btn-commit", "firebase-login-btn-vibe", "firebase-login-btn-bottom"]
            .map(id => document.getElementById(id))
            .filter(Boolean)
            .forEach(btn => btn.addEventListener("click", (e) => {
                e.preventDefault();
                handleLogin();
            }));
    });
</script>


{% endblock %}